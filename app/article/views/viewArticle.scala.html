@(inarticle: models.Article)
@( /*This is for rendering a single article.*/ )
<div class="article-bg">
	<div class="container-fluid center-container">
		<div class="row space-below">
			<div class="col-xs-12 @if(models.LoginState.isValidlyLoggedIn){col-xl-7 }space-above">
				<div class="white-box">
					<div style="border-bottom : 2 px solid #9e9d98 \">
						@if(inarticle.getImagePath != null) {
							<img src="@inarticle.getImagePath" class="center-block img-responsive art-img"><br>}
						<h1><p class="text-center">@inarticle.getTitle</p></h1>
					</div>
					<br>
					<h3><p class="text-center">@inarticle.getIngress</p></h3>
					<h6 class="smallTitle">Av: @inarticle.getAuthor.getNameLink
						@if(models.LoginState.getUser.getId == inarticle.getAuthor.getId || LoginState.getUser.isAdmin) {
					<a href="@article.routes.Article.editArticle(String.valueOf(inarticle.getId))">
							<button class="btn-xs btn-primary pull-right"> Rediger </button> </a>
						}@if(inarticle.getParent != null){

																<a href="@article.routes.Article.viewArticle(inarticle.getParent.getId + "")">Tidligere Revisjon</a> }
				</h6>
				<p class="text-center">@Html(inarticle.getText)</p>
					<br>
			</div>
	    </div>
		    @if(models.LoginState.isValidlyLoggedIn){
				<div class="col-xl-5 space-above">
		    <div class="transparent-box">
					<p style="color:lightslategray; border-bottom: solid 2px #d3d3d3;">Kommentarer</p>
						@for(i <- inarticle.getCommentList){
							<div class="row">
								<div class="col-xs-2 col-lg-2" style="padding-right:0">
									    @i.getAuthor.getThumbnail
								</div>
								<div class="col-xs-10 col-lg-10" style="padding-left:2.5%">
									<div class="row">
										<div class="col-xs-10">
											<strong>@{i.getAuthor.getNameLink}:</strong>
										</div>
										<div class="col-xs-2" style="text-align: right;">
											@if(i.getAuthor.equals(models.LoginState.getUser) || i.getAuthor.admin){
												<div class="btn-group">
													<button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">
														<span class="caret"></span>
													</button>
													<ul class="dropdown-menu dropdown-menu-right" role="menu">
														<form method="POST" action="@article.routes.Article.deleteComment(i.getCommentID.toString)">
															<button type="submit"> Slett </button>
														</form>
													</ul>
											</div>
										}
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											@(i.getComment)
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<small> @i.getTimestamp </small>
										</div>
									</div>
								</div>
							</div>
						}
						<div style="margin-top:1em">
							<form action="@article.routes.Article.comment(inarticle.getId.toString)" method="POST">
								<label for="comment" class="sr-only">Comment:</label>
								<div class="input-group">
									<input type="text" class="form-control" id="comment" name="comment" autocomplete="off" maxlength="250">
									<span class="input-group-btn">
										<button type="submit" class="btn btn-primary">Kommenter</button>
									</span>
								</div>
							</form>
						</div>
				</div>
			</div>
			}
		</div>
	</div>
</div>
